<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@agogpixel/phaser3-ts-utils</title><meta name="description" content="Documentation for @agogpixel/phaser3-ts-utils"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@agogpixel/phaser3-ts-utils</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>@agogpixel/phaser3-ts-utils</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#agogpixelphaser3-ts-utils" id="agogpixelphaser3-ts-utils" style="color: inherit; text-decoration: none;">
  <h1>agogpixel/phaser3-ts-utils</h1>
</a>
<p><a href="https://github.com/agogpixel/phaser3-ts-utils/actions/workflows/build-and-test.yml"><img src="https://github.com/agogpixel/phaser3-ts-utils/actions/workflows/build-and-test.yml/badge.svg" alt="Build &amp; Test"></a>
<a href="https://agogpixel.github.io/phaser3-ts-utils/coverage"><img src="https://img.shields.io/endpoint?url=https://gist.githubusercontent.com/kidthales/8783260504aa23bb1c4dd36f0ba3be01/raw/phaser3-ts-utils__heads_main.json" alt="Coverage"></a>
<a href="https://npmjs.org/package/@agogpixel/phaser3-ts-utils"><img src="https://img.shields.io/npm/v/@agogpixel/phaser3-ts-utils.svg" alt="Version"></a>
<a href="https://npmjs.org/package/@agogpixel/phaser3-ts-utils"><img src="https://img.shields.io/npm/dw/@agogpixel/phaser3-ts-utils.svg" alt="Downloads/week"></a>
<a href="https://github.com/agogpixel/phaser3-ts-utils/blob/master/LICENSE"><img src="https://img.shields.io/npm/l/@agogpixel/phaser3-ts-utils.svg" alt="License"></a></p>
<hr>

<p><a href="https://github.com/photonstorm/phaser">Phaser 3</a> <a href="https://www.typescriptlang.org/">TypeScript</a> utilities. Requires Phaser <code>v3.22+</code> as a peer dependency.</p>

<a href="#getting-started" id="getting-started" style="color: inherit; text-decoration: none;">
  <h2>Getting Started</h2>
</a>
<ol>
<li><p>Install the package:</p>
<pre><code class="language-shell"><span class="hl-0">npm install --save @agogpixel/phaser3-ts-utils</span>
</code></pre>
</li>
<li><p>Add <code>@agogpixel/phaser3-ts-utils</code> to the <a href="https://www.typescriptlang.org/tsconfig#types">types entry</a> in the appropriate <code>tsconfig</code> file.</p>
<pre><code class="language-json"><span class="hl-0">{</span><br/><span class="hl-0">    </span><span class="hl-1">&quot;compilerOptions&quot;</span><span class="hl-0">: {</span><br/><span class="hl-0">        </span><span class="hl-1">&quot;types&quot;</span><span class="hl-0">: [</span><span class="hl-2">&quot;@agogpixel/phaser3-ts-utils&quot;</span><span class="hl-0">]</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">}</span>
</code></pre>
</li>
<li><p>Import the library with global scope <strong>once</strong> (usually in an entry file):</p>
<pre><code class="language-typescript"><span class="hl-3">import</span><span class="hl-0"> </span><span class="hl-2">&#39;@agogpixel/phaser3-ts-utils&#39;</span><span class="hl-0">;</span>
</code></pre>
</li>
<li><p>If using Phaser <code>v3.60+</code> and need the <code>FX</code> component mixin, import &amp; use directly:</p>
<pre><code class="language-typescript"><span class="hl-3">import</span><span class="hl-0"> { </span><span class="hl-4">FX</span><span class="hl-0"> } </span><span class="hl-3">from</span><span class="hl-0"> </span><span class="hl-2">&#39;@agogpixel/phaser3-ts-utils/src/mixins/gameobjects/components/fx&#39;</span><span class="hl-0">;</span>
</code></pre>
</li>
</ol>

<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
  <h2>Usage</h2>
</a>
<p>This library is intended to ease some use cases when developing with Phaser 3 &amp; TypeScript.</p>

<a href="#mixins" id="mixins" style="color: inherit; text-decoration: none;">
  <h3>Mixins</h3>
</a>
<p>Some Phaser functionality is leveraged by this library in the form of mixins that follow the <a href="https://www.typescriptlang.org/docs/handbook/mixins.html">Mixins section</a> of the TypeScript handbook.</p>

<a href="#game-objects" id="game-objects" style="color: inherit; text-decoration: none;">
  <h4>Game Objects</h4>
</a>
<p>The <a href="https://photonstorm.github.io/phaser3-docs/Phaser.GameObjects.GameObject.html">Phaser Game Object</a> is the base class upon which various sprite &amp; graphic classes a built; thus, they are one of the main API sufaces used in development.</p>

<a href="#components" id="components" style="color: inherit; text-decoration: none;">
  <h5>Components</h5>
</a>
<p>Phaser offers its own es5 compatible class extensions system that ties into how Game Objects mixin various <a href="https://photonstorm.github.io/phaser3-docs/Phaser.GameObjects.Components.html">components</a>. The available namespace typings do not expose some of the core functions &amp; variables that are used to accomplish this; while these are still available for use in implementing Game Objects &#39;from scratch&#39;, doing so with TypeScript can be awkward (ie. a lot of boilerplate to get the typing to correctly reflect the component properties available on the Game Object).</p>
<p>Utilizing class mixins, we can continue to use the Game Object components provided by Phaser and get the appropriate typing on our resulting Game Object class:</p>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-0"> { </span><span class="hl-6">Alpha</span><span class="hl-0">, </span><span class="hl-6">BlendMode</span><span class="hl-0">, </span><span class="hl-6">Texture</span><span class="hl-0">, </span><span class="hl-6">Transform</span><span class="hl-0">, </span><span class="hl-6">Visible</span><span class="hl-0"> } = </span><span class="hl-4">PhaserTSUtils</span><span class="hl-0">.</span><span class="hl-4">Mixins</span><span class="hl-0">.</span><span class="hl-4">GameObjects</span><span class="hl-0">.</span><span class="hl-4">Components</span><span class="hl-0">;</span><br/><br/><span class="hl-7">// Make our own base game object type so we don&#39;t</span><br/><span class="hl-7">// accidentally pollute Phaser.GameObjects.GameObject prototype.</span><br/><span class="hl-5">class</span><span class="hl-0"> </span><span class="hl-8">MyBaseGameObject</span><span class="hl-0"> </span><span class="hl-5">extends</span><span class="hl-0"> </span><span class="hl-8">Phaser</span><span class="hl-0">.</span><span class="hl-8">GameObjects</span><span class="hl-0">.</span><span class="hl-8">GameObject</span><span class="hl-0"> {}</span><br/><br/><span class="hl-5">class</span><span class="hl-0"> </span><span class="hl-8">MyGameObject</span><span class="hl-0"> </span><span class="hl-5">extends</span><span class="hl-0"> </span><span class="hl-9">Alpha</span><span class="hl-0">(</span><span class="hl-9">BlendMode</span><span class="hl-0">(</span><span class="hl-9">Texture</span><span class="hl-0">(</span><span class="hl-9">Transform</span><span class="hl-0">(</span><span class="hl-9">Visible</span><span class="hl-0">(</span><span class="hl-4">MyBaseGameObject</span><span class="hl-0">))))) {</span><br/><span class="hl-0">    </span><span class="hl-7">// Custom Game Object implementation</span><br/><span class="hl-0">    </span><span class="hl-7">// with mixed in component properties</span><br/><span class="hl-0">    </span><span class="hl-7">// available in TypeScript...</span><br/><span class="hl-0">    </span><span class="hl-9">doFoo</span><span class="hl-0">() {</span><br/><span class="hl-0">        </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-9">setAlpha</span><span class="hl-0">(</span><span class="hl-10">0.75</span><span class="hl-0">);</span><br/><span class="hl-0">        </span><span class="hl-7">// ...</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">}</span>
</code></pre>

<a href="#customgameobject" id="customgameobject" style="color: inherit; text-decoration: none;">
  <h5>CustomGameObject</h5>
</a>
<p>To help streamline the <a href="#components">components</a> example, a <a href="./src/mixins/gameobjects/custom-gameobject.ts">CustomGameObject</a> factory function is now available:</p>
<pre><code class="language-typescript"><span class="hl-5">const</span><span class="hl-0"> { </span><span class="hl-6">Alpha</span><span class="hl-0">, </span><span class="hl-6">BlendMode</span><span class="hl-0">, </span><span class="hl-6">Texture</span><span class="hl-0">, </span><span class="hl-6">Transform</span><span class="hl-0">, </span><span class="hl-6">Size</span><span class="hl-0">, </span><span class="hl-6">Visible</span><span class="hl-0"> } = </span><span class="hl-4">PhaserTSUtils</span><span class="hl-0">.</span><span class="hl-4">Mixins</span><span class="hl-0">.</span><span class="hl-4">GameObjects</span><span class="hl-0">.</span><span class="hl-4">Components</span><span class="hl-0">;</span><br/><br/><span class="hl-5">class</span><span class="hl-0"> </span><span class="hl-8">MyGameObject</span><span class="hl-0"> </span><span class="hl-5">extends</span><span class="hl-0"> </span><span class="hl-4">PhaserTSUtils</span><span class="hl-0">.</span><span class="hl-4">Mixins</span><span class="hl-0">.</span><span class="hl-4">GameObjects</span><span class="hl-0">.</span><span class="hl-9">CustomGameObject</span><span class="hl-0">(</span><br/><span class="hl-0">    </span><span class="hl-5">true</span><span class="hl-0">, </span><span class="hl-7">// Checks component mixin dependencies...</span><br/><span class="hl-0">    </span><span class="hl-4">Alpha</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-4">BlendMode</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-4">Size</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-4">Texture</span><span class="hl-0">, </span><span class="hl-7">// Size needs Crop, Texture, or TextureCrop...</span><br/><span class="hl-0">    </span><span class="hl-4">Transform</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-4">Visible</span><br/><span class="hl-0">) {</span><br/><span class="hl-0">    </span><span class="hl-7">// Custom Game Object implementation</span><br/><span class="hl-0">    </span><span class="hl-7">// with mixed in component properties</span><br/><span class="hl-0">    </span><span class="hl-7">// available in TypeScript...</span><br/><span class="hl-0">    </span><span class="hl-9">doFoo</span><span class="hl-0">() {</span><br/><span class="hl-0">        </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-9">setAlpha</span><span class="hl-0">(</span><span class="hl-10">0.75</span><span class="hl-0">);</span><br/><span class="hl-0">        </span><span class="hl-7">// ...</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">}</span>
</code></pre>

<a href="#scenes" id="scenes" style="color: inherit; text-decoration: none;">
  <h4>Scenes</h4>
</a>
<p>A <a href="https://photonstorm.github.io/phaser3-docs/Phaser.Scene.html">Phaser Scene</a> is the main controller for managing game resources; thus, they are one of the main API sufaces used in development.</p>

<a href="#plugin-api-mixin-factory" id="plugin-api-mixin-factory" style="color: inherit; text-decoration: none;">
  <h5>Plugin API Mixin Factory</h5>
</a>
<p>Phaser provides a <a href="https://rexrainbow.github.io/phaser3-rex-notes/docs/site/pluginsystem/">plugin system</a> that allows for extended functionality that can be optionally accessed through a scene. In addition to a plugin being available via a <em>mapping</em>, it can extend the Game Object <a href="https://photonstorm.github.io/phaser3-docs/Phaser.GameObjects.GameObjectFactory.html">factory</a> (<code>add</code>) &amp; <a href="https://photonstorm.github.io/phaser3-docs/Phaser.GameObjects.GameObjectCreator.html">creator</a> (<code>make</code>) scene properties as well as the <a href="https://photonstorm.github.io/phaser3-docs/Phaser.Loader.LoaderPlugin.html">loader plugin</a> (<code>load</code>) scene property.</p>
<p>Utilizing a class mixin factory, we can create a mixin that coerces a given Scene class such that a plugin&#39;s injected API is available on the resulting Scene type:</p>
<pre><code class="language-typescript"><span class="hl-7">////////////////////</span><br/><span class="hl-7">// Plugins</span><br/><span class="hl-7">////////////////////</span><br/><br/><span class="hl-5">class</span><span class="hl-0"> </span><span class="hl-8">GlobalPlugin</span><span class="hl-0"> </span><span class="hl-5">extends</span><span class="hl-0"> </span><span class="hl-8">Phaser</span><span class="hl-0">.</span><span class="hl-8">Plugins</span><span class="hl-0">.</span><span class="hl-8">BasePlugin</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-5">constructor</span><span class="hl-0">(</span><span class="hl-4">pluginManager</span><span class="hl-0">: </span><span class="hl-8">Phaser</span><span class="hl-0">.</span><span class="hl-8">Plugins</span><span class="hl-0">.</span><span class="hl-8">PluginManager</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-5">super</span><span class="hl-0">(</span><span class="hl-4">pluginManager</span><span class="hl-0">);</span><br/><br/><span class="hl-0">        </span><span class="hl-4">pluginManager</span><span class="hl-0">.</span><span class="hl-9">registerGameObject</span><span class="hl-0">(</span><br/><span class="hl-0">            </span><span class="hl-2">&#39;globalA&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">            </span><span class="hl-5">function</span><span class="hl-0"> (</span><span class="hl-7">/* Args... */</span><span class="hl-0">) {</span><br/><span class="hl-0">                </span><span class="hl-7">/* Implementation... */</span><br/><span class="hl-0">            },</span><br/><span class="hl-0">            </span><span class="hl-5">function</span><span class="hl-0"> (</span><span class="hl-7">/* Args... */</span><span class="hl-0">) {</span><br/><span class="hl-0">                </span><span class="hl-7">/* Implementation... */</span><br/><span class="hl-0">            }</span><br/><span class="hl-0">        );</span><br/><br/><span class="hl-0">        </span><span class="hl-4">pluginManager</span><span class="hl-0">.</span><span class="hl-9">registerGameObject</span><span class="hl-0">(</span><br/><span class="hl-0">            </span><span class="hl-2">&#39;globalB&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">            </span><span class="hl-5">function</span><span class="hl-0"> (</span><span class="hl-7">/* Args... */</span><span class="hl-0">) {</span><br/><span class="hl-0">                </span><span class="hl-7">/* Implementation... */</span><br/><span class="hl-0">            },</span><br/><span class="hl-0">            </span><span class="hl-5">function</span><span class="hl-0"> (</span><span class="hl-7">/* Args... */</span><span class="hl-0">) {</span><br/><span class="hl-0">                </span><span class="hl-7">/* Implementation... */</span><br/><span class="hl-0">            }</span><br/><span class="hl-0">        );</span><br/><br/><span class="hl-0">        </span><span class="hl-4">pluginManager</span><span class="hl-0">.</span><span class="hl-9">registerFileType</span><span class="hl-0">(</span><span class="hl-2">&#39;globalA&#39;</span><span class="hl-0">, </span><span class="hl-5">function</span><span class="hl-0"> (</span><span class="hl-7">/* Args... */</span><span class="hl-0">) {</span><br/><span class="hl-0">            </span><span class="hl-7">/* Implementation... */</span><br/><span class="hl-0">        });</span><br/><br/><span class="hl-0">        </span><span class="hl-4">pluginManager</span><span class="hl-0">.</span><span class="hl-9">registerFileType</span><span class="hl-0">(</span><span class="hl-2">&#39;globalB&#39;</span><span class="hl-0">, </span><span class="hl-5">function</span><span class="hl-0"> (</span><span class="hl-7">/* Args... */</span><span class="hl-0">) {</span><br/><span class="hl-0">            </span><span class="hl-7">/* Implementation... */</span><br/><span class="hl-0">        });</span><br/><span class="hl-0">    }</span><br/><br/><span class="hl-0">    </span><span class="hl-9">globalA</span><span class="hl-0">(</span><span class="hl-7">/* Args... */</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-7">/* Implementation... */</span><br/><span class="hl-0">    }</span><br/><br/><span class="hl-0">    </span><span class="hl-9">globalB</span><span class="hl-0">(</span><span class="hl-7">/* Args... */</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-7">/* Implementation... */</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-5">class</span><span class="hl-0"> </span><span class="hl-8">ScenePlugin</span><span class="hl-0"> </span><span class="hl-5">extends</span><span class="hl-0"> </span><span class="hl-8">Phaser</span><span class="hl-0">.</span><span class="hl-8">Plugins</span><span class="hl-0">.</span><span class="hl-8">ScenePlugin</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-5">constructor</span><span class="hl-0">(</span><span class="hl-4">scene</span><span class="hl-0">: </span><span class="hl-8">Phaser</span><span class="hl-0">.</span><span class="hl-8">Scene</span><span class="hl-0">, </span><span class="hl-4">pluginManager</span><span class="hl-0">: </span><span class="hl-8">Phaser</span><span class="hl-0">.</span><span class="hl-8">Plugins</span><span class="hl-0">.</span><span class="hl-8">PluginManager</span><span class="hl-0">, </span><span class="hl-4">pluginKey</span><span class="hl-0">: </span><span class="hl-8">string</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-5">super</span><span class="hl-0">(</span><span class="hl-4">scene</span><span class="hl-0">, </span><span class="hl-4">pluginManager</span><span class="hl-0">, </span><span class="hl-4">pluginKey</span><span class="hl-0">);</span><br/><br/><span class="hl-0">        </span><span class="hl-4">pluginManager</span><span class="hl-0">.</span><span class="hl-9">registerGameObject</span><span class="hl-0">(</span><br/><span class="hl-0">            </span><span class="hl-2">&#39;sceneA&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">            </span><span class="hl-5">function</span><span class="hl-0"> (</span><span class="hl-7">/* Args... */</span><span class="hl-0">) {</span><br/><span class="hl-0">                </span><span class="hl-7">/* Implementation... */</span><br/><span class="hl-0">            },</span><br/><span class="hl-0">            </span><span class="hl-5">function</span><span class="hl-0"> (</span><span class="hl-7">/* Args... */</span><span class="hl-0">) {</span><br/><span class="hl-0">                </span><span class="hl-7">/* Implementation... */</span><br/><span class="hl-0">            }</span><br/><span class="hl-0">        );</span><br/><br/><span class="hl-0">        </span><span class="hl-4">pluginManager</span><span class="hl-0">.</span><span class="hl-9">registerGameObject</span><span class="hl-0">(</span><br/><span class="hl-0">            </span><span class="hl-2">&#39;sceneB&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">            </span><span class="hl-5">function</span><span class="hl-0"> (</span><span class="hl-7">/* Args... */</span><span class="hl-0">) {</span><br/><span class="hl-0">                </span><span class="hl-7">/* Implementation... */</span><br/><span class="hl-0">            },</span><br/><span class="hl-0">            </span><span class="hl-5">function</span><span class="hl-0"> (</span><span class="hl-7">/* Args... */</span><span class="hl-0">) {</span><br/><span class="hl-0">                </span><span class="hl-7">/* Implementation... */</span><br/><span class="hl-0">            }</span><br/><span class="hl-0">        );</span><br/><br/><span class="hl-0">        </span><span class="hl-4">pluginManager</span><span class="hl-0">.</span><span class="hl-9">registerFileType</span><span class="hl-0">(</span><br/><span class="hl-0">            </span><span class="hl-2">&#39;sceneA&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">            </span><span class="hl-5">function</span><span class="hl-0"> (</span><span class="hl-7">/* Args... */</span><span class="hl-0">) {</span><br/><span class="hl-0">                </span><span class="hl-7">/* Implementation... */</span><br/><span class="hl-0">            },</span><br/><span class="hl-0">            </span><span class="hl-4">scene</span><br/><span class="hl-0">        );</span><br/><br/><span class="hl-0">        </span><span class="hl-4">pluginManager</span><span class="hl-0">.</span><span class="hl-9">registerFileType</span><span class="hl-0">(</span><br/><span class="hl-0">            </span><span class="hl-2">&#39;sceneB&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">            </span><span class="hl-5">function</span><span class="hl-0"> (</span><span class="hl-7">/* Args... */</span><span class="hl-0">) {</span><br/><span class="hl-0">                </span><span class="hl-7">/* Implementation... */</span><br/><span class="hl-0">            },</span><br/><span class="hl-0">            </span><span class="hl-4">scene</span><br/><span class="hl-0">        );</span><br/><span class="hl-0">    }</span><br/><br/><span class="hl-0">    </span><span class="hl-9">sceneA</span><span class="hl-0">(</span><span class="hl-7">/* Args... */</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-7">/* Implementation... */</span><br/><span class="hl-0">    }</span><br/><br/><span class="hl-0">    </span><span class="hl-9">sceneB</span><span class="hl-0">(</span><span class="hl-7">/* Args... */</span><span class="hl-0">) {</span><br/><span class="hl-0">        </span><span class="hl-7">/* Implementation... */</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-7">////////////////////</span><br/><span class="hl-7">// Mixins</span><br/><span class="hl-7">////////////////////</span><br/><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">createMixin</span><span class="hl-0"> = </span><span class="hl-4">PhaserTSUtils</span><span class="hl-0">.</span><span class="hl-4">Mixins</span><span class="hl-0">.</span><span class="hl-4">Scenes</span><span class="hl-0">.</span><span class="hl-4">createPluginApiMixin</span><span class="hl-0">;</span><br/><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">GlobalPluginMixin</span><span class="hl-0"> = </span><span class="hl-4">createMixin</span><span class="hl-0">&lt;</span><br/><span class="hl-0">    </span><span class="hl-4">GlobalPlugin</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">&#39;globalA&#39;</span><span class="hl-0"> | </span><span class="hl-2">&#39;globalB&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">    {</span><br/><span class="hl-0">        </span><span class="hl-11">globalA</span><span class="hl-0">: (</span><span class="hl-7">/* Args... */</span><span class="hl-0">) </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-4">Phaser</span><span class="hl-0">.</span><span class="hl-4">GameObjects</span><span class="hl-0">.</span><span class="hl-4">GameObject</span><span class="hl-0">;</span><br/><span class="hl-0">        </span><span class="hl-11">globalB</span><span class="hl-0">: (</span><span class="hl-7">/* Args... */</span><span class="hl-0">) </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-4">Phaser</span><span class="hl-0">.</span><span class="hl-4">GameObjects</span><span class="hl-0">.</span><span class="hl-4">GameObject</span><span class="hl-0">;</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    {</span><br/><span class="hl-0">        </span><span class="hl-11">globalA</span><span class="hl-0">: (</span><span class="hl-7">/* Args... */</span><span class="hl-0">) </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-4">Phaser</span><span class="hl-0">.</span><span class="hl-4">GameObjects</span><span class="hl-0">.</span><span class="hl-4">GameObject</span><span class="hl-0">;</span><br/><span class="hl-0">        </span><span class="hl-11">globalB</span><span class="hl-0">: (</span><span class="hl-7">/* Args... */</span><span class="hl-0">) </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-4">Phaser</span><span class="hl-0">.</span><span class="hl-4">GameObjects</span><span class="hl-0">.</span><span class="hl-4">GameObject</span><span class="hl-0">;</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    { </span><span class="hl-11">globalA</span><span class="hl-0">: (</span><span class="hl-7">/* Args... */</span><span class="hl-0">) </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-4">Phaser</span><span class="hl-0">.</span><span class="hl-4">Loader</span><span class="hl-0">.</span><span class="hl-4">LoaderPlugin</span><span class="hl-0">; </span><span class="hl-11">globalB</span><span class="hl-0">: (</span><span class="hl-7">/* Args... */</span><span class="hl-0">) </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-4">Phaser</span><span class="hl-0">.</span><span class="hl-4">Loader</span><span class="hl-0">.</span><span class="hl-4">LoaderPlugin</span><span class="hl-0"> }</span><br/><span class="hl-0">&gt;();</span><br/><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">ScenePluginMixin</span><span class="hl-0"> = </span><span class="hl-4">createMixin</span><span class="hl-0">&lt;</span><br/><span class="hl-0">    </span><span class="hl-4">ScenePlugin</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">&#39;sceneA&#39;</span><span class="hl-0"> | </span><span class="hl-2">&#39;sceneB&#39;</span><span class="hl-0">,</span><br/><span class="hl-0">    {</span><br/><span class="hl-0">        </span><span class="hl-11">sceneA</span><span class="hl-0">: (</span><span class="hl-7">/* Args... */</span><span class="hl-0">) </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-4">Phaser</span><span class="hl-0">.</span><span class="hl-4">GameObjects</span><span class="hl-0">.</span><span class="hl-4">GameObject</span><span class="hl-0">;</span><br/><span class="hl-0">        </span><span class="hl-11">sceneB</span><span class="hl-0">: (</span><span class="hl-7">/* Args... */</span><span class="hl-0">) </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-4">Phaser</span><span class="hl-0">.</span><span class="hl-4">GameObjects</span><span class="hl-0">.</span><span class="hl-4">GameObject</span><span class="hl-0">;</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    {</span><br/><span class="hl-0">        </span><span class="hl-11">sceneA</span><span class="hl-0">: (</span><span class="hl-7">/* Args... */</span><span class="hl-0">) </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-4">Phaser</span><span class="hl-0">.</span><span class="hl-4">GameObjects</span><span class="hl-0">.</span><span class="hl-4">GameObject</span><span class="hl-0">;</span><br/><span class="hl-0">        </span><span class="hl-11">sceneB</span><span class="hl-0">: (</span><span class="hl-7">/* Args... */</span><span class="hl-0">) </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-4">Phaser</span><span class="hl-0">.</span><span class="hl-4">GameObjects</span><span class="hl-0">.</span><span class="hl-4">GameObject</span><span class="hl-0">;</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    { </span><span class="hl-11">sceneA</span><span class="hl-0">: (</span><span class="hl-7">/* Args... */</span><span class="hl-0">) </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-4">Phaser</span><span class="hl-0">.</span><span class="hl-4">Loader</span><span class="hl-0">.</span><span class="hl-4">LoaderPlugin</span><span class="hl-0">; </span><span class="hl-11">sceneB</span><span class="hl-0">: (</span><span class="hl-7">/* Args... */</span><span class="hl-0">) </span><span class="hl-5">=&gt;</span><span class="hl-0"> </span><span class="hl-4">Phaser</span><span class="hl-0">.</span><span class="hl-4">Loader</span><span class="hl-0">.</span><span class="hl-4">LoaderPlugin</span><span class="hl-0"> }</span><br/><span class="hl-0">&gt;();</span><br/><br/><span class="hl-7">////////////////////</span><br/><span class="hl-7">// Scenes</span><br/><span class="hl-7">////////////////////</span><br/><br/><span class="hl-7">// Make our own base scene type so we don&#39;t</span><br/><span class="hl-7">// accidentally pollute Phaser.Scene prototype.</span><br/><span class="hl-5">class</span><span class="hl-0"> </span><span class="hl-8">MyBaseScene</span><span class="hl-0"> </span><span class="hl-5">extends</span><span class="hl-0"> </span><span class="hl-8">Phaser</span><span class="hl-0">.</span><span class="hl-8">Scene</span><span class="hl-0"> {}</span><br/><br/><span class="hl-7">// Apply our mixins with with corresponding plugin</span><br/><span class="hl-7">// scene mappings (see below).</span><br/><span class="hl-5">class</span><span class="hl-0"> </span><span class="hl-8">MyScene</span><span class="hl-0"> </span><span class="hl-5">extends</span><span class="hl-0"> </span><span class="hl-9">GlobalPluginMixin</span><span class="hl-0">(</span><span class="hl-2">&#39;myGlobalPlugin&#39;</span><span class="hl-0">, </span><span class="hl-9">ScenePluginMixin</span><span class="hl-0">(</span><span class="hl-2">&#39;myScenePlugin&#39;</span><span class="hl-0">, </span><span class="hl-4">MyBaseScene</span><span class="hl-0">)) {</span><br/><span class="hl-0">    </span><span class="hl-9">preload</span><span class="hl-0">() {</span><br/><span class="hl-0">        </span><span class="hl-7">// Custom loader file type callbacks...</span><br/><span class="hl-0">        </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-4">load</span><span class="hl-0">.</span><span class="hl-9">globalA</span><span class="hl-0">(</span><span class="hl-7">/* Args... */</span><span class="hl-0">);</span><br/><span class="hl-0">        </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-4">load</span><span class="hl-0">.</span><span class="hl-9">globalB</span><span class="hl-0">(</span><span class="hl-7">/* Args... */</span><span class="hl-0">);</span><br/><span class="hl-0">        </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-4">load</span><span class="hl-0">.</span><span class="hl-9">sceneA</span><span class="hl-0">(</span><span class="hl-7">/* Args... */</span><span class="hl-0">);</span><br/><span class="hl-0">        </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-4">load</span><span class="hl-0">.</span><span class="hl-9">sceneB</span><span class="hl-0">(</span><span class="hl-7">/* Args... */</span><span class="hl-0">);</span><br/><span class="hl-0">    }</span><br/><br/><span class="hl-0">    </span><span class="hl-9">create</span><span class="hl-0">() {</span><br/><span class="hl-0">        </span><span class="hl-7">// Global plugin API...</span><br/><span class="hl-0">        </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-4">myGlobalPlugin</span><span class="hl-0">.</span><span class="hl-9">globalA</span><span class="hl-0">(</span><span class="hl-7">/* Args... */</span><span class="hl-0">);</span><br/><span class="hl-0">        </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-4">myGlobalPlugin</span><span class="hl-0">.</span><span class="hl-9">globalB</span><span class="hl-0">(</span><span class="hl-7">/* Args... */</span><span class="hl-0">);</span><br/><br/><span class="hl-0">        </span><span class="hl-7">// Scene plugin API...</span><br/><span class="hl-0">        </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-4">myScenePlugin</span><span class="hl-0">.</span><span class="hl-9">sceneA</span><span class="hl-0">(</span><span class="hl-7">/* Args... */</span><span class="hl-0">);</span><br/><span class="hl-0">        </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-4">myScenePlugin</span><span class="hl-0">.</span><span class="hl-9">sceneB</span><span class="hl-0">(</span><span class="hl-7">/* Args... */</span><span class="hl-0">);</span><br/><br/><span class="hl-0">        </span><span class="hl-7">// Fully exposed scene plugin API...</span><br/><span class="hl-0">        </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-4">sys</span><span class="hl-0">.</span><span class="hl-4">myScenePlugin</span><span class="hl-0">.</span><span class="hl-9">sceneA</span><span class="hl-0">(</span><span class="hl-7">/* Args... */</span><span class="hl-0">);</span><br/><span class="hl-0">        </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-4">sys</span><span class="hl-0">.</span><span class="hl-4">myScenePlugin</span><span class="hl-0">.</span><span class="hl-9">sceneB</span><span class="hl-0">(</span><span class="hl-7">/* Args... */</span><span class="hl-0">);</span><br/><span class="hl-0">        </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-4">sys</span><span class="hl-0">.</span><span class="hl-4">myScenePlugin</span><span class="hl-0">.</span><span class="hl-9">destroy</span><span class="hl-0">();</span><br/><br/><span class="hl-0">        </span><span class="hl-7">// Game Object factory...</span><br/><span class="hl-0">        </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-4">add</span><span class="hl-0">.</span><span class="hl-9">globalA</span><span class="hl-0">(</span><span class="hl-7">/* Args... */</span><span class="hl-0">);</span><br/><span class="hl-0">        </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-4">add</span><span class="hl-0">.</span><span class="hl-9">globalB</span><span class="hl-0">(</span><span class="hl-7">/* Args... */</span><span class="hl-0">);</span><br/><span class="hl-0">        </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-4">add</span><span class="hl-0">.</span><span class="hl-9">sceneA</span><span class="hl-0">(</span><span class="hl-7">/* Args... */</span><span class="hl-0">);</span><br/><span class="hl-0">        </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-4">add</span><span class="hl-0">.</span><span class="hl-9">sceneB</span><span class="hl-0">(</span><span class="hl-7">/* Args... */</span><span class="hl-0">);</span><br/><br/><span class="hl-0">        </span><span class="hl-7">// Game Object creator...</span><br/><span class="hl-0">        </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-4">make</span><span class="hl-0">.</span><span class="hl-9">globalA</span><span class="hl-0">(</span><span class="hl-7">/* Args... */</span><span class="hl-0">);</span><br/><span class="hl-0">        </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-4">make</span><span class="hl-0">.</span><span class="hl-9">globalB</span><span class="hl-0">(</span><span class="hl-7">/* Args... */</span><span class="hl-0">);</span><br/><span class="hl-0">        </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-4">make</span><span class="hl-0">.</span><span class="hl-9">sceneA</span><span class="hl-0">(</span><span class="hl-7">/* Args... */</span><span class="hl-0">);</span><br/><span class="hl-0">        </span><span class="hl-5">this</span><span class="hl-0">.</span><span class="hl-4">make</span><span class="hl-0">.</span><span class="hl-9">sceneB</span><span class="hl-0">(</span><span class="hl-7">/* Args... */</span><span class="hl-0">);</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-5">new</span><span class="hl-0"> </span><span class="hl-4">Phaser</span><span class="hl-0">.</span><span class="hl-9">Game</span><span class="hl-0">({</span><br/><span class="hl-0">    </span><span class="hl-7">// ...</span><br/><span class="hl-0">    </span><span class="hl-4">plugins:</span><span class="hl-0"> {</span><br/><span class="hl-0">        </span><span class="hl-7">// Register our plugins with scene mappings</span><br/><span class="hl-0">        </span><span class="hl-7">// (used with mixins in scene definition, see above).</span><br/><span class="hl-0">        </span><span class="hl-4">global:</span><span class="hl-0"> [{ </span><span class="hl-4">key:</span><span class="hl-0"> </span><span class="hl-2">&#39;globalPlugin&#39;</span><span class="hl-0">, </span><span class="hl-4">plugin:</span><span class="hl-0"> </span><span class="hl-4">GlobalPlugin</span><span class="hl-0">, </span><span class="hl-4">mapping:</span><span class="hl-0"> </span><span class="hl-2">&#39;myGlobalPlugin&#39;</span><span class="hl-0">, </span><span class="hl-4">start:</span><span class="hl-0"> </span><span class="hl-5">true</span><span class="hl-0"> }],</span><br/><span class="hl-0">        </span><span class="hl-4">scene:</span><span class="hl-0"> [{ </span><span class="hl-4">key:</span><span class="hl-0"> </span><span class="hl-2">&#39;scenePlugin&#39;</span><span class="hl-0">, </span><span class="hl-4">plugin:</span><span class="hl-0"> </span><span class="hl-4">ScenePlugin</span><span class="hl-0">, </span><span class="hl-4">mapping:</span><span class="hl-0"> </span><span class="hl-2">&#39;myScenePlugin&#39;</span><span class="hl-0">, </span><span class="hl-4">start:</span><span class="hl-0"> </span><span class="hl-5">true</span><span class="hl-0"> }]</span><br/><span class="hl-0">    },</span><br/><span class="hl-0">    </span><span class="hl-4">scene:</span><span class="hl-0"> [</span><span class="hl-4">MyScene</span><span class="hl-0">]</span><br/><span class="hl-0">    </span><span class="hl-7">// ...</span><br/><span class="hl-0">});</span>
</code></pre>

<a href="#development" id="development" style="color: inherit; text-decoration: none;">
  <h2>Development</h2>
</a>
<p>Live development with <code>jest</code> watch mode:</p>
<pre><code class="language-shell"><span class="hl-0">npm start</span>
</code></pre>
<p>Lint files:</p>
<pre><code class="language-shell"><span class="hl-0">npm run lint      </span><span class="hl-7"># Report issues.</span><br/><span class="hl-0">npm run lint:fix  </span><span class="hl-7"># Fix issues.</span>
</code></pre>
<p>Unit test &amp; create coverage report in <code>coverage</code>:</p>
<pre><code class="language-shell"><span class="hl-0">npm </span><span class="hl-9">test</span>
</code></pre>
<p>Build consumable <code>.js</code>, <code>.js.map</code>, &amp; <code>.d.ts</code> files to <code>dist</code>; prepare for further packaging:</p>
<pre><code class="language-shell"><span class="hl-0">npm run build</span>
</code></pre>
<p>Smoke test build:</p>
<pre><code class="language-shell"><span class="hl-0">npm run smoke-test</span>
</code></pre>
<p>Create package tarball from <code>dist</code>:</p>
<pre><code class="language-shell"><span class="hl-0">npm run create-tarball               </span><span class="hl-7"># Development stream.</span><br/><span class="hl-0">npm run create-tarball -- --release  </span><span class="hl-7"># Release stream.</span>
</code></pre>
<p>Publish package tarball to registry (some assembly required):</p>
<pre><code class="language-shell"><span class="hl-0">npm run publish-tarball -- NPM</span><br/><span class="hl-0">npm run publish-tarball -- GitHub</span>
</code></pre>

<a href="#package-distribution" id="package-distribution" style="color: inherit; text-decoration: none;">
  <h2>Package Distribution</h2>
</a>
<p>Tag for stable release with highest version: <code>latest</code></p>
<p>Development release tag (tracks <code>main</code> branch): <code>next</code></p>
<p>Additional distribution tags include:</p>
<table>
<thead>
<tr>
<th align="center">Distribution</th>
<th align="center">Release</th>
<th align="center">Pre-Release</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Major versions with highest minor, patch (and possibly pre-release) version.</td>
<td align="center"><code>vX~latest</code></td>
<td align="center"><code>vX~next</code></td>
</tr>
<tr>
<td align="center">Major, minor versions with highest patch (and possibly pre-release) version.</td>
<td align="center"><code>vX.Y~latest</code></td>
<td align="center"><code>vX.Y~next</code></td>
</tr>
<tr>
<td align="center">Major, minor, patch versions - catch all for releases that don&#39;t match any of the above.</td>
<td align="center"><del><code>vX.Y.Z~latest</code></del></td>
<td align="center"><code>vX.Y.Z~next</code></td>
</tr>
</tbody></table>

<a href="#license" id="license" style="color: inherit; text-decoration: none;">
  <h2>License</h2>
</a>
<p>Licensed under the <a href="./LICENSE">MIT License</a>.</p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li><li class=" tsd-kind-namespace"><a href="modules/PhaserTSUtils.html">PhaserTSUtils</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>